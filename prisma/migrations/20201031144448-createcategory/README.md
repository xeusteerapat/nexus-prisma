# Migration `20201031144448-createcategory`

This migration has been generated by xeusteerapat at 10/31/2020, 9:44:48 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "Category" (
    "id" TEXT NOT NULL,
    "name" TEXT NOT NULL,
    PRIMARY KEY ("id")
)

CREATE TABLE "_CategoryToProduct" (
    "A" TEXT NOT NULL,
    "B" TEXT NOT NULL,

    FOREIGN KEY ("A") REFERENCES "Category"("id") ON DELETE CASCADE ON UPDATE CASCADE,
    FOREIGN KEY ("B") REFERENCES "Product"("id") ON DELETE CASCADE ON UPDATE CASCADE
)

CREATE UNIQUE INDEX "_CategoryToProduct_AB_unique" ON "_CategoryToProduct"("A", "B")

CREATE INDEX "_CategoryToProduct_B_index" ON "_CategoryToProduct"("B")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201031142135-createreview..20201031144448-createcategory
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "sqlite"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -16,13 +16,20 @@
   description String
   price       Int
   sku         String @unique
   reviews     Review[]
+  categories  Category[]
 }
 model Review {
   id        String  @id @default(uuid())
   title     String
   body      String
   product   Product @relation(fields: [productId], references: [id])
   productId String
+}
+
+model Category {
+  id       String    @id @default(uuid())
+  name     String
+  products Product[] 
 }
```


